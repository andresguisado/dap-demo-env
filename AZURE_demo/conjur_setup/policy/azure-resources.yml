---

# Variables named for the identities that have access to them
- !variable test-var-sub1-rgrp1
- !variable test-var-sub1-rgrp1-sid1
- !variable test-var-sub1-rgrp1-uid1
- !variable test-var-sub1-rgrp2-uid1

- !variable test-var-sub2-rgrp1
- !variable test-var-sub2-rgrp1-sid1
- !variable test-var-sub2-rgrp1-uid1

#################################
# Subscription 1 permissions

# Resource group 1
- !permit
  role: !host sub1-apps/rgrp1
  privilege: [ read, execute ]
  resource: !variable test-var-sub1-rgrp1

- !permit
  role: !host sub1-apps/rgrp1-sid1
  privilege: [ read, execute ]
  resource: !variable test-var-sub1-rgrp1-sid1

- !permit
  role: !host sub1-apps/rgrp1-uid1
  privilege: [ read, execute ]
  resource: !variable test-var-sub1-rgrp1-uid1

# Resource group 2
- !permit
  role: !host sub1-apps/rgrp2-uid1
  privilege: [ read, execute ]
  resource: !variable test-var-sub1-rgrp2-uid1

#################################
# Subscription 2 permissions

# Resource group 1
- !permit
  role: !host sub2-apps/rgrp1
  privilege: [ read, execute ]
  resource: !variable test-var-sub2-rgrp1

- !permit
  role: !host sub2-apps/rgrp1-sid1
  privilege: [ read, execute ]
  resource: !variable test-var-sub2-rgrp1-sid1

- !permit
  role: !host sub2-apps/rgrp1-uid1
  privilege: [ read, execute ]
  resource: !variable test-var-sub2-rgrp1-uid1
